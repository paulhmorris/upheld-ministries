---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";
import hero from "../../src/assets/images/hero.jpg";
import ContentWrapper from "../components/ContentWrapper.astro";
import Hero from "../components/Hero.astro";
import Quotes from "../components/Quotes.astro";
import SubHero from "../components/SubHero.astro";
import UpcomingEvent from "../components/UpcomingEvent.astro";
import Layout from "../layouts/Layout.astro";

type UpcomingEvent = {
  id: string | number;
  date: string;
  title: string;
  imgSrc: string | ImageMetadata;
  location: string;
};

const upcomingEvents: Array<UpcomingEvent> = [
  {
    id: "1",
    imgSrc:
      "https://images.squarespace-cdn.com/content/v1/662c031f0438617c740310de/9f24b3ce-c34f-4633-8a6c-4eedeb9d9b86/IMG_6566.JPG?format=300w",
    title: "Mom's Lunch",
    location: "Dallas, TX",
    date: "Februrary 10, 2025",
  },
  {
    id: "1",
    imgSrc:
      "https://images.squarespace-cdn.com/content/v1/662c031f0438617c740310de/81de2b18-59d1-44e4-a402-be1e9c1e53bd/IMG_6588.JPG?format=500w",
    title: "Gather Retreat",
    location: "Fort Worth, TX",
    date: "March 28-30, 2025",
  },
];
---

<Layout headerBgColor="bg-transparent">
  <title slot="meta">Upheld Ministries</title>
  <div class="bg-white">
    <Hero />

    <!-- BACKGROUND IMAGE -->
    <div class="soft-round absolute inset-0 h-[calc(65dvh-112px)] overflow-hidden">
      <Image src={hero} alt="Hero image" class="h-full w-full object-cover object-center" />
      <div class="absolute inset-0 bg-[#313d41] opacity-60"></div>
    </div>

    <SubHero />

    <!-- UPCOMING EVENTS -->
    <section>
      <ContentWrapper>
        <div class="flex flex-col items-center justify-evenly gap-10 px-6 py-24 lg:flex-row">
          <div class="flex flex-col items-center gap-y-10 lg:items-start">
            <h2 class="font-orpheus text-5xl font-bold">Upcoming Events</h2>
            <a href="/events" class="block bg-brand-dark-grey px-7 py-4 font-serif text-white">View All</a>
          </div>

          <ul class="flex flex-wrap justify-center gap-10">
            {
              upcomingEvents.map((event) => (
                <li>
                  <UpcomingEvent {...event} />
                </li>
              ))
            }
          </ul>
        </div>
      </ContentWrapper>
    </section>

    <Quotes />
  </div>
</Layout>

<style>
  .soft-round {
    clip-path: ellipse(125% 100% at 50% -5%);
  }
</style>
